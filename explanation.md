# LP自動ビルダー アプリケーション解説

このアプリケーションは、画像を縦に並べるだけで簡単にランディングページ（LP）を作成・公開できる「LP自動ビルダー（WordPress風）」です。

## 1. アプリの構成と技術スタック

- **フロントエンド:** Next.js (App Router), Tailwind CSS
- **データベース:** PostgreSQL (Supabase)
- **ストレージ:** Supabase Storage
- **AI:** Google Gemini 1.5 Flash (キャッチコピー自動生成)
- **UI部品:** Lucide React (アイコン), dnd-kit (ドラッグ＆ドロップ機能)

## 2. 主要な画面と機能

### 管理画面 (Admin Panel)

1.  **ページ一覧 (`/admin/pages`):** 作成したLPの一覧を表示します。新規作成や既存ページの編集・削除が可能です。
2.  **ページ編集 (`/admin/pages/[id]`):** 画像をアップロードし、並び替え、役割（Role）を設定するメインのエディタです。
    -   **画像のドラッグ＆ドロップ:** 順番を直感的に入れ替えられます。
    -   **役割の設定:** 「メイン画像」「お悩み」「解決策」などの役割を各画像に設定できます。
3.  **AIアシスタント:** 編集画面内の青いパネルに商品情報を入力すると、すべての画像セクションに最適なキャッチコピーをAIが自動生成します。
4.  **設定 (`/admin/settings`):** サイト全体の共通設定を行います。

### 公開画面 (Public LP)

作成したLPは `/p/[slug]` というURLで一般公開されます。
-   **固定ヘッダー:** スクロールしても常に上部に表示され、画像セクションへジャンプできます。
-   **垂直画像スタック:** 設定した順番通りに画像が縦に並びます。
-   **お問い合わせフォーム:** ページの最下部に標準で設置されます。

## 3. データの流れ

1.  **画像アップロード:** `api/upload` を通じて Supabase Storage の `images` バケットに保存され、公開URLがDBに記録されます。
2.  **ページ保存:** ページの構成（セクションの順番や役割）は `Page` および `PageSection` テーブルに保存されます。
3.  **表示:** 公開用URLにアクセスがあると、DBから構成を読み込み、Next.jsがダイナミックにページを生成します。

---

> [!NOTE]
> 現在、利便性のために認証機能（ログイン画面）は削除されており、直接管理画面にアクセスできる設定になっています。
